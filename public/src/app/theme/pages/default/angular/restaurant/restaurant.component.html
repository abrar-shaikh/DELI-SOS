<h2 class="header">Restaurants</h2>
<button class="btn-add" (click)="open()">Add</button>


<table class="table table-striped- table-bordered table-hover table-checkable" datatable [dtOptions]="dtOptions"
[dtTrigger]="dtTrigger">
  <thead>
    <tr>
      <td style="font-weight: bold; width:10%;">Sr.</td>
      <td style="font-weight: bold; width: 40%;">Restaurant Name</td>
      <th style="width:20%"> &nbsp;&nbsp;&nbsp;Status</th>
      <th style="width:20%;"> &nbsp; Action</th>
    </tr>
  </thead>
  <tbody>
    <tr  *ngFor="let list of RestaurantList;let i=index">
      <td >{{i+1}}</td>
      <td>{{list.name}}</td>
      <td><span class="m-badge  m-badge--wide">{{list.status}}</span></td>
      <td>
       <button type="button" class="m-portlet__nav-link btn m-btn m-btn--hover-brand m-btn--icon m-btn--icon-only m-btn--pill"
          data-toggle="m-tooltip" data-placement="top" title="View" (click)="viewRestaurant(restaurant)">
          <i class="fas fa-eye"></i>
        </button>

        <ng-template #restaurant let-c="close" let-d="dismiss">
          <div class="modal-header">
            <h4 class="modal-title">View Restaurant</h4>
            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label> Restaurant Name</label>
              <input class="form-control m-input" type="text" [(ngModel)]="list.name" disabled />
            </div><br>


            <div class="form-group">
              <label>Description</label>
              <input class="form-control m-input" type="text" [(ngModel)]="list.description" disabled />
            </div><br>


            <div class="form-group">
              <label>Latitude</label>
              <input class="form-control m-input" type="text" [(ngModel)]="list.location.coordinates[0]" disabled />
            </div><br>

            <div class="form-group">
              <label>Longitude</label>
              <input class="form-control m-input" type="text" [(ngModel)]="list.location.coordinates[1]" disabled />
            </div><br>


            <div class="form-group">
              <label>Open Time</label>
              <input class="form-control m-input"  [(ngModel)]="list.openTime" disabled />
            </div><br>

            <div class="form-group">
              <label for="time">Close Time</label>
              <input class="form-control m-input" [(ngModel)]="list.closeTime" disabled />
            </div><br>


            <div class="form-group">
              <label>Meal Offers</label>
              <div *ngFor="let category of list.mealOffers; let i = index">
                <li> {{category}}</li>
              </div>
              <br>
            </div>

            <div class="form-group">
              <label>Contact Number</label>
              <input class="form-control m-input" type="tel" [(ngModel)]="list.contactNumber" disabled />
            </div>

            <div class="form-group">
              <label>Website</label>
              <input class="form-control m-input" type="text" [(ngModel)]="list.website" disabled />
            </div>


            <div class="form-group">
              <label>Upload Menu Images:</label><br />
              <div *ngFor="let url of list.menu ;let i=index">
                <img [src]="url" *ngIf="url" class="rounded mb-3" width="50" height="50">
              </div>
            </div>

            <div class="form-group">
              <label>Per Person Cost</label>
              <input class="form-control m-input" type="Number" [(ngModel)]="list.perPersonCost" disabled />
            </div>


            <div class="form-group"> 
              <label>Photos:</label><br />
              <div *ngFor="let url of list.photos ;let i=index">
                <img [src]="url" *ngIf="url" class="rounded mb-3" width="50" height="50">
              </div>
            </div>

            <div class="form-group">
              <label>Cuisines:</label><br />
              <mat-form-field class="example-chip-list">
                <mat-chip-list #chipList>
                  <mat-chip *ngFor="let cuisinValue of list.cuisinOffered,let i =index" [selectable]="selectable">
                    {{cuisinValue}}
                  </mat-chip>
                </mat-chip-list>
              </mat-form-field>
            </div>
          </div>
        </ng-template>
        &nbsp;&nbsp;


        <button type="button" class="m-portlet__nav-link btn m-btn m-btn--hover-brand m-btn--icon m-btn--icon-only m-btn--pill"
          data-toggle="m-tooltip" data-placement="top" title="Edit" (click)="open(list,'edit')">
          <i class="fas fa-edit"></i>
        </button> &nbsp;&nbsp;
        <button type="button" class="m-portlet__nav-link btn m-btn m-btn--hover-brand m-btn--icon m-btn--icon-only m-btn--pill"
          data-toggle="m-tooltip" data-placement="top" title="Delete" (click)="delete(list._id)">
          <i class="fas fa-trash-alt"></i>
        </button>
      </td>
    </tr>
  </tbody>
</table>
<script>

  $(document).ready(function () {
    $('[data-toggle="m-tooltip"]').tooltip();
  });
</script>