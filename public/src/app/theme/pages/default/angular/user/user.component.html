<h2 class="header">Users</h2>
<button class="btn-add" (click)="open()">Add</button>
<!-- <table class="table table-striped- table-bordered table-hover table-checkable" id="m_table_1">
</table> -->
<table class="table table-striped- table-bordered table-hover table-checkable" datatable [dtOptions]="dtOptions"
  [dtTrigger]="dtTrigger">
  <thead>
    <tr>
      <td style="font-weight: bold; width: 10%;">Sr.</td>
      <td style="font-weight: bold; width: 20%">UserName</td>
      <td style="font-weight: bold; width: 30%;">Email</td>
      <th style="width:20%"> &nbsp;&nbsp;&nbsp;Status</th>
      <th style=" width:20%"> &nbsp;Action</th>
    </tr>
  </thead>
  <tbody>

    <tr *ngFor="let user of usersList ; let i=index">
      <td>{{i+1}}</td>
      <td>{{user.name}}</td>
      <td>{{user.email}}</td>
      <td><span class="m-badge  m-badge--wide">{{user.status}}</span></td>
      <td>
        <button type="button" class="m-portlet__nav-link btn m-btn m-btn--hover-brand m-btn--icon m-btn--icon-only m-btn--pill"
          data-toggle="m-tooltip" data-placement="top" title="View" (click)="viewUser(User)">
          <i class="fas fa-eye"></i>
        </button>
        <ng-template #User let-d="dismiss">
          <div class="modal-header">
            <h4 class="modal-title">View User</h4>
            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label for="name">User Name</label>
              <input type="text" [(ngModel)]="user.name" class="form-control" disabled />
            </div>

            <div class="form-group">
              <label for="email">Email</label>
              <input type="text" [(ngModel)]="user.email" class="form-control" disabled />
            </div>

            <div class="form-group">
              <label for="deviceId">DeviceId</label>
              <input type="text" [(ngModel)]="user.deviceId" class="form-control" disabled />
            </div>

            <div class="form-group">
              <label for="deviceType">Device Type</label>
              <input type="text" [(ngModel)]="user.deviceType" class="form-control" disabled />
            </div>

            <div class="form-group">
              <label for="fcmToken">fcm Token</label>
              <textarea [(ngModel)]="user.fcmToken" class="form-control" rows="4" disabled></textarea>
            </div>

          </div>

        </ng-template>
        &nbsp;&nbsp;
        <button type="button" class="m-portlet__nav-link btn m-btn m-btn--hover-brand m-btn--icon m-btn--icon-only m-btn--pill"
          data-toggle="m-tooltip" title="Edit" (click)="open(user,'edit')">
          <i class="fas fa-edit"></i>
        </button> &nbsp;&nbsp;

        <button type="button" class="m-portlet__nav-link btn m-btn m-btn--hover-brand m-btn--icon m-btn--icon-only m-btn--pill"
          data-toggle="m-tooltip" data-placement="top" title="Delete" (click)="delete(user._id)">
          <i class="fas fa-trash-alt"></i>
        </button>
      </td>
    </tr>
  </tbody>
</table>

<script>
  $(document).ready(function () {
    $('[data-toggle="m-tooltip"]').tooltip();
  });
</script>